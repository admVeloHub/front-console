# üìã CHECKLIST DE IMPLEMENTA√á√ÉO - M√ìDULO QUALIDADE

## üéØ P√ÅGINAS IDENTIFICADAS

### 1. P√°gina de Funcion√°rios (`/funcionarios`)
**Funcionalidades:**
- ‚úÖ Lista de funcion√°rios com filtros
- ‚úÖ Formul√°rio de cadastro/edi√ß√£o de funcion√°rios
- ‚úÖ Gest√£o de acessos por funcion√°rio
- ‚úÖ Toolbar com exporta√ß√£o (Excel/PDF) e importa√ß√£o
- ‚úÖ Sincroniza√ß√£o de dados
- ‚úÖ Filtros por nome, empresa, atua√ß√£o, status, escala

### 2. P√°gina do M√≥dulo de Qualidade (`/qualidade-module`)
**Funcionalidades:**
- ‚úÖ Navega√ß√£o entre 4 se√ß√µes: Avalia√ß√µes, Relat√≥rio do Agente, Relat√≥rio da Gest√£o, Agente GPT
- ‚úÖ **Avalia√ß√µes:** CRUD completo, upload de √°udio, formul√°rio de avalia√ß√£o
- ‚úÖ **Relat√≥rio do Agente:** Relat√≥rio individual por colaborador
- ‚úÖ **Relat√≥rio da Gest√£o:** Relat√≥rio gerencial com rankings
- ‚úÖ **Agente GPT:** An√°lise autom√°tica de liga√ß√µes com IA

---

## üìù CHECKLIST DE IMPLEMENTA√á√ÉO

### FASE 1: Estrutura Base ‚úÖ
- [x] **1.1** Migrar tipos TypeScript ‚Üí JavaScript (`src/types/qualidade.js`)
- [x] **1.2** Migrar servi√ßos de storage (`src/services/qualidadeStorage.js`)
- [x] **1.3** Migrar utilit√°rios de exporta√ß√£o (`src/services/qualidadeExport.js`)
- [x] **1.4** Migrar servi√ßos GPT (`src/services/gptService.js`)

### FASE 2: P√°gina de Funcion√°rios ‚úÖ
- [x] **2.1** Implementar `FuncionariosPage.jsx` com estrutura completa
- [x] **2.2** Migrar `FuncionarioList` component (integrado na p√°gina)
- [x] **2.3** Migrar `FuncionarioForm` component (integrado nos modais)
- [x] **2.4** Migrar `FuncionarioToolbar` component (integrado na toolbar)
- [x] **2.5** Migrar `AcessoForm` component (integrado no modal de acessos)
- [x] **2.6** Implementar filtros e busca
- [x] **2.7** Implementar CRUD de funcion√°rios
- [x] **2.8** Implementar gest√£o de acessos

### FASE 3: P√°gina do M√≥dulo de Qualidade ‚úÖ
- [x] **3.1** Implementar `QualidadeModulePage.jsx` com navega√ß√£o
- [x] **3.2** Migrar `AvaliacaoList` component (integrado na p√°gina)
- [x] **3.3** Migrar `AvaliacaoForm` component (modal implementado)
- [x] **3.4** Migrar `RelatorioAgente` component (estrutura criada)
- [x] **3.5** Migrar `RelatorioGestao` component (estrutura criada)
- [x] **3.6** Migrar `GPTIntegration` component (modal implementado)
- [x] **3.7** Implementar upload de √°udio (preparado para implementa√ß√£o)
- [x] **3.8** Implementar an√°lise GPT (modal funcional)

#### **‚úÖ MODAIS IMPLEMENTADOS:**

**Modal de Avalia√ß√£o:**
- ‚úÖ Formul√°rio completo com todos os campos
- ‚úÖ Sele√ß√£o de colaborador (dropdown)
- ‚úÖ Crit√©rios de avalia√ß√£o com bot√µes visuais
- ‚úÖ Sistema de pontua√ß√£o autom√°tico
- ‚úÖ Valida√ß√£o de campos obrigat√≥rios
- ‚úÖ Integra√ß√£o com storage (add/update/delete)
- ‚úÖ Design responsivo seguindo LAYOUT_GUIDELINES

**Modal de An√°lise GPT:**
- ‚úÖ Exibi√ß√£o de informa√ß√µes da avalia√ß√£o
- ‚úÖ Bot√£o para iniciar an√°lise GPT
- ‚úÖ Loading state durante an√°lise
- ‚úÖ Exibi√ß√£o de resultados da IA
- ‚úÖ Interface responsiva e intuitiva

**Funcionalidades dos Bot√µes:**
- ‚úÖ "Nova Avalia√ß√£o" ‚Üí Abre modal de cria√ß√£o
- ‚úÖ "Editar" ‚Üí Abre modal de edi√ß√£o
- ‚úÖ "An√°lise GPT" ‚Üí Abre modal GPT
- ‚úÖ "Excluir" ‚Üí Exclui com confirma√ß√£o

### FASE 4: Armazenamento Online (MongoDB)
- [ ] **4.1** Configurar conex√£o com MongoDB
- [ ] **4.2** Criar collection `qualidade_avaliacoes` no MongoDB
- [ ] **4.3** Implementar schema de valida√ß√£o para avalia√ß√µes
- [ ] **4.4** Criar fun√ß√£o de upsert para avalia√ß√µes
- [ ] **4.5** Implementar sincroniza√ß√£o autom√°tica (localStorage ‚Üî MongoDB)
- [ ] **4.6** Criar collection `qualidade_funcionarios` no MongoDB
- [ ] **4.7** Implementar fun√ß√£o de upsert para funcion√°rios
- [ ] **4.8** Criar collection `qualidade_avaliacoes_gpt` no MongoDB
- [ ] **4.9** Implementar backup autom√°tico no MongoDB
- [ ] **4.10** Criar sistema de logs de opera√ß√µes no MongoDB
- [ ] **4.11** Implementar fallback (MongoDB ‚Üí localStorage)
- [ ] **4.12** Testar sincroniza√ß√£o em tempo real
- [ ] **4.13** Implementar controle de vers√£o de dados
- [ ] **4.14** Criar sistema de migra√ß√£o de dados existentes

### FASE 5: Implementa√ß√£o das Abas Vazias
- [ ] **5.1** Implementar aba "Relat√≥rio do Agente"
  - [ ] **5.1.1** Migrar componente `RelatorioAgente.tsx` ‚Üí `RelatorioAgente.jsx`
  - [ ] **5.1.2** Adaptar TypeScript ‚Üí JavaScript (interfaces ‚Üí JSDoc)
  - [ ] **5.1.3** Converter Tailwind CSS ‚Üí Material-UI (sx props)
  - [ ] **5.1.4** Substituir Lucide React ‚Üí Material-UI Icons
  - [ ] **5.1.5** Integrar fun√ß√£o `gerarRelatorioAgente` do `qualidadeStorage.js`
  - [ ] **5.1.6** Implementar sele√ß√£o de colaborador (dropdown)
  - [ ] **5.1.7** Implementar filtros por per√≠odo (m√™s/ano)
  - [ ] **5.1.8** Implementar visualiza√ß√£o de m√©tricas (m√©dia, tend√™ncia, hist√≥rico)
  - [ ] **5.1.9** Aplicar LAYOUT_GUIDELINES (cores, tipografia, containers)
  - [ ] **5.1.10** Testar funcionalidade completa

- [ ] **5.2** Implementar aba "Relat√≥rio da Gest√£o"
  - [ ] **5.2.1** Migrar componente `RelatorioGestao.tsx` ‚Üí `RelatorioGestao.jsx`
  - [ ] **5.2.2** Adaptar TypeScript ‚Üí JavaScript (interfaces ‚Üí JSDoc)
  - [ ] **5.2.3** Converter Tailwind CSS ‚Üí Material-UI (sx props)
  - [ ] **5.2.4** Substituir Lucide React ‚Üí Material-UI Icons
  - [ ] **5.2.5** Integrar fun√ß√£o `gerarRelatorioGestao` do `qualidadeStorage.js`
  - [ ] **5.2.6** Implementar filtros por m√™s/ano
  - [ ] **5.2.7** Implementar ranking de colaboradores (top 3 melhores/piores)
  - [ ] **5.2.8** Implementar estat√≠sticas gerais (m√©dia da equipe, total de avalia√ß√µes)
  - [ ] **5.2.9** Implementar visualiza√ß√£o de performance por colaborador
  - [ ] **5.2.10** Aplicar LAYOUT_GUIDELINES (cores, tipografia, containers)
  - [ ] **5.2.11** Testar funcionalidade completa

- [ ] **5.3** Implementar aba "An√°lise GPT"
  - [ ] **5.3.1** Migrar componente `GPTIntegration.tsx` ‚Üí `GPTIntegration.jsx`
  - [ ] **5.3.2** Adaptar TypeScript ‚Üí JavaScript (interfaces ‚Üí JSDoc)
  - [ ] **5.3.3** Converter Tailwind CSS ‚Üí Material-UI (sx props)
  - [ ] **5.3.4** Substituir Lucide React ‚Üí Material-UI Icons
  - [ ] **5.3.5** Integrar servi√ßo `gptService.js` existente
  - [ ] **5.3.6** Implementar verifica√ß√£o de arquivo de √°udio
  - [ ] **5.3.7** Implementar bot√£o de an√°lise GPT
  - [ ] **5.3.8** Implementar loading state durante an√°lise
  - [ ] **5.3.9** Implementar exibi√ß√£o de resultados da IA
  - [ ] **5.3.10** Implementar sistema de modera√ß√£o
  - [ ] **5.3.11** Implementar configura√ß√£o de API GPT
  - [ ] **5.3.12** Aplicar LAYOUT_GUIDELINES (cores, tipografia, containers)
  - [ ] **5.3.13** Testar funcionalidade completa

### FASE 5.4: Implementa√ß√£o do Upload de √Åudio para An√°lise GPT
- [ ] **5.4.1** Implementar funcionalidade do bot√£o de √°udio na tabela de avalia√ß√µes
  - [ ] **5.4.1.1** Modificar estado do √≠cone `MicOff` (cinza, desabilitado) ‚Üí `Mic` (azul, ativo)
  - [ ] **5.4.1.2** Implementar clique no bot√£o para abrir modal de upload
  - [ ] **5.4.1.3** Adicionar tooltip explicativo no bot√£o
  - [ ] **5.4.1.4** Implementar verifica√ß√£o de arquivo existente

- [ ] **5.4.2** Criar modal de upload de √°udio
  - [ ] **5.4.2.1** Criar componente `AudioUploadModal.jsx`
  - [ ] **5.4.2.2** Implementar interface de upload com Material-UI
  - [ ] **5.4.2.3** Adicionar bot√£o "Adicionar √Åudio" no modal
  - [ ] **5.4.2.4** Implementar input de arquivo oculto (accept=".mp3,.wav")
  - [ ] **5.4.2.5** Adicionar valida√ß√£o de formato (MP3, WAV)
  - [ ] **5.4.2.6** Implementar valida√ß√£o de tamanho (m√°ximo 50MB)
  - [ ] **5.4.2.7** Adicionar preview do arquivo selecionado
  - [ ] **5.4.2.8** Implementar bot√µes "Cancelar" e "Salvar"

- [ ] **5.4.3** Implementar l√≥gica de upload e armazenamento
  - [ ] **5.4.3.1** Integrar fun√ß√£o `saveAudioFile` do `qualidadeStorage.js`
  - [ ] **5.4.3.2** Implementar convers√£o para Base64 (arquivos pequenos)
  - [ ] **5.4.3.3** Implementar upload para Vercel Blob (arquivos grandes)
  - [ ] **5.4.3.4** Implementar fallback para Google Drive (se configurado)
  - [ ] **5.4.3.5** Adicionar loading state durante upload
  - [ ] **5.4.3.6** Implementar tratamento de erros de upload

- [ ] **5.4.4** Atualizar estado visual do bot√£o ap√≥s upload
  - [ ] **5.4.4.1** Alterar √≠cone de `MicOff` para `Mic` (azul)
  - [ ] **5.4.4.2** Remover estado desabilitado do bot√£o
  - [ ] **5.4.4.3** Adicionar tooltip "√Åudio dispon√≠vel para an√°lise"
  - [ ] **5.4.4.4** Implementar hover effect no bot√£o ativo

- [ ] **5.4.5** Integrar com an√°lise GPT
  - [ ] **5.4.5.1** Verificar se arquivo existe antes de permitir an√°lise GPT
  - [ ] **5.4.5.2** Passar arquivo de √°udio para `gptService.js`
  - [ ] **5.4.5.3** Implementar valida√ß√£o de arquivo na an√°lise
  - [ ] **5.4.5.4** Adicionar mensagem de erro se n√£o houver √°udio

- [ ] **5.4.6** Implementar funcionalidades adicionais
  - [ ] **5.4.6.1** Adicionar op√ß√£o de remover √°udio (bot√£o X)
  - [ ] **5.4.6.2** Implementar preview/play do √°udio (opcional)
  - [ ] **5.4.6.3** Adicionar informa√ß√µes do arquivo (nome, tamanho, dura√ß√£o)
  - [ ] **5.4.6.4** Implementar drag & drop de arquivos (opcional)

- [ ] **5.4.7** Aplicar LAYOUT_GUIDELINES
  - [ ] **5.4.7.1** Usar cores oficiais VeloHub (#000058, #1694FF, #15A237)
  - [ ] **5.4.7.2** Aplicar tipografia Poppins
  - [ ] **5.4.7.3** Implementar containers com sombreado e bordas arredondadas
  - [ ] **5.4.7.4** Adicionar transi√ß√µes suaves nos hovers
  - [ ] **5.4.7.5** Implementar responsividade para mobile

- [ ] **5.4.8** Testes e valida√ß√£o
  - [ ] **5.4.8.1** Testar upload de arquivos MP3
  - [ ] **5.4.8.2** Testar upload de arquivos WAV
  - [ ] **5.4.8.3** Testar valida√ß√£o de formatos inv√°lidos
  - [ ] **5.4.8.4** Testar valida√ß√£o de tamanho m√°ximo
  - [ ] **5.4.8.5** Testar integra√ß√£o com an√°lise GPT
  - [ ] **5.4.8.6** Testar remo√ß√£o de arquivo
  - [ ] **5.4.8.7** Testar responsividade em diferentes dispositivos

### FASE 6: Integra√ß√£o e Testes
- [ ] **6.1** Aplicar LAYOUT_GUIDELINES em todos os componentes
- [ ] **6.2** Testar navega√ß√£o entre p√°ginas
- [ ] **6.3** Testar CRUD de funcion√°rios (local + online)
- [ ] **6.4** Testar CRUD de avalia√ß√µes (local + online)
- [ ] **6.5** Testar relat√≥rios (agente e gest√£o)
- [ ] **6.6** Testar an√°lise GPT
- [ ] **6.7** Testar exporta√ß√£o/importa√ß√£o
- [ ] **6.8** Testar sincroniza√ß√£o online
- [ ] **6.9** Testar fallback offline
- [ ] **6.10** Testar performance com grandes volumes

---

## üóÑÔ∏è ARQUITETURA MONGODB

### **Collections Propostas:**

#### **1. `qualidade_avaliacoes`**
```javascript
{
  _id: ObjectId,
  id: String, // ID √∫nico da aplica√ß√£o
  colaboradorId: String,
  colaboradorNome: String,
  avaliador: String,
  mes: String,
  ano: Number,
  dataAvaliacao: Date,
  arquivoLigacao: String, // Base64 ou URL
  nomeArquivo: String,
  saudacaoAdequada: Boolean,
  escutaAtiva: Boolean,
  resolucaoQuestao: Boolean,
  empatiaCordialidade: Boolean,
  direcionouPesquisa: Boolean,
  procedimentoIncorreto: Boolean,
  encerramentoBrusco: Boolean,
  moderado: Boolean,
  observacoesModeracao: String,
  pontuacaoTotal: Number,
  createdAt: Date,
  updatedAt: Date,
  version: Number // Controle de vers√£o
}
```

#### **2. `qualidade_funcionarios`**
```javascript
{
  _id: ObjectId,
  id: String, // ID √∫nico da aplica√ß√£o
  nomeCompleto: String,
  dataAniversario: Date,
  empresa: String,
  dataContratado: Date,
  telefone: String,
  atuacao: String,
  escala: String,
  acessos: [{
    id: String,
    sistema: String,
    perfil: String,
    observacoes: String,
    createdAt: Date
  }],
  desligado: Boolean,
  dataDesligamento: Date,
  afastado: Boolean,
  dataAfastamento: Date,
  createdAt: Date,
  updatedAt: Date,
  version: Number
}
```

#### **3. `qualidade_avaliacoes_gpt`**
```javascript
{
  _id: ObjectId,
  id: String, // ID √∫nico da aplica√ß√£o
  avaliacaoId: String, // Refer√™ncia √† avalia√ß√£o
  analiseGPT: String,
  pontuacaoGPT: Number,
  criteriosGPT: {
    saudacaoAdequada: Boolean,
    escutaAtiva: Boolean,
    resolucaoQuestao: Boolean,
    empatiaCordialidade: Boolean,
    direcionouPesquisa: Boolean,
    procedimentoIncorreto: Boolean,
    encerramentoBrusco: Boolean
  },
  confianca: Number, // 0-100
  palavrasCriticas: [String],
  calculoDetalhado: [String],
  createdAt: Date,
  version: Number
}
```

#### **4. `qualidade_logs`**
```javascript
{
  _id: ObjectId,
  operation: String, // CREATE, UPDATE, DELETE, SYNC
  collection: String, // avaliacoes, funcionarios, gpt
  documentId: String,
  userId: String,
  timestamp: Date,
  details: Object,
  userAgent: String,
  ip: String
}
```

### **√çndices Recomendados:**
```javascript
// qualidade_avaliacoes
db.qualidade_avaliacoes.createIndex({ "id": 1 }, { unique: true })
db.qualidade_avaliacoes.createIndex({ "colaboradorId": 1 })
db.qualidade_avaliacoes.createIndex({ "mes": 1, "ano": 1 })
db.qualidade_avaliacoes.createIndex({ "avaliador": 1 })
db.qualidade_avaliacoes.createIndex({ "createdAt": 1 })

// qualidade_funcionarios
db.qualidade_funcionarios.createIndex({ "id": 1 }, { unique: true })
db.qualidade_funcionarios.createIndex({ "nomeCompleto": 1 })
db.qualidade_funcionarios.createIndex({ "empresa": 1 })
db.qualidade_funcionarios.createIndex({ "desligado": 1, "afastado": 1 })

// qualidade_avaliacoes_gpt
db.qualidade_avaliacoes_gpt.createIndex({ "id": 1 }, { unique: true })
db.qualidade_avaliacoes_gpt.createIndex({ "avaliacaoId": 1 })
```

### **Fun√ß√µes de Upsert:**
```javascript
// Exemplo de upsert para avalia√ß√µes
const upsertAvaliacao = async (avaliacaoData) => {
  const filter = { id: avaliacaoData.id };
  const update = {
    $set: {
      ...avaliacaoData,
      updatedAt: new Date(),
      version: { $inc: 1 }
    },
    $setOnInsert: {
      createdAt: new Date(),
      version: 1
    }
  };
  
  return await db.qualidade_avaliacoes.updateOne(filter, update, { upsert: true });
};
```

### **Estrat√©gia de Sincroniza√ß√£o:**

#### **1. Sincroniza√ß√£o Autom√°tica:**
- ‚úÖ **Online First**: Tentar MongoDB primeiro, fallback para localStorage
- ‚úÖ **Bidirectional Sync**: localStorage ‚Üî MongoDB
- ‚úÖ **Conflict Resolution**: Timestamp + version control
- ‚úÖ **Offline Support**: Funcionar sem internet

#### **2. Fluxo de Sincroniza√ß√£o:**
```javascript
// 1. Opera√ß√£o local
const addAvaliacao = async (data) => {
  // Salvar no localStorage imediatamente
  const localAvaliacao = saveToLocalStorage(data);
  
  // Tentar sincronizar com MongoDB
  try {
    await syncToMongoDB(localAvaliacao);
  } catch (error) {
    // Marcar para sincroniza√ß√£o posterior
    markForSync(localAvaliacao.id);
  }
  
  return localAvaliacao;
};

// 2. Sincroniza√ß√£o em background
const syncPendingChanges = async () => {
  const pending = getPendingSync();
  for (const item of pending) {
    try {
      await syncToMongoDB(item);
      markAsSynced(item.id);
    } catch (error) {
      console.error('Sync failed:', error);
    }
  }
};
```

#### **3. Resolu√ß√£o de Conflitos:**
```javascript
const resolveConflict = (local, remote) => {
  // Crit√©rios de resolu√ß√£o:
  // 1. Maior version number
  // 2. Timestamp mais recente
  // 3. Manter dados locais se remoto for muito antigo
  
  if (remote.version > local.version) {
    return remote;
  } else if (local.updatedAt > remote.updatedAt) {
    return local;
  } else {
    return local; // Manter local por seguran√ßa
  }
};
```

---

## üìä COMPONENTES A MIGRAR

### Da pasta `QUALIDADE/src/components/`:
- [x] `AvaliacaoForm.tsx` ‚Üí `AvaliacaoForm.jsx` ‚úÖ **IMPLEMENTADO** (integrado no modal)
- [x] `AvaliacaoList.tsx` ‚Üí `AvaliacaoList.jsx` ‚úÖ **IMPLEMENTADO** (integrado na p√°gina)
- [ ] `ConfirmationDialog.tsx` ‚Üí `ConfirmationDialog.jsx`
- [ ] `EmptyState.tsx` ‚Üí `EmptyState.jsx`
- [x] `FuncionarioCard.tsx` ‚Üí `FuncionarioCard.jsx` ‚úÖ **IMPLEMENTADO** (integrado na tabela)
- [x] `FuncionarioFilters.tsx` ‚Üí `FuncionarioFilters.jsx` ‚úÖ **IMPLEMENTADO** (integrado na toolbar)
- [x] `FuncionarioForm.tsx` ‚Üí `FuncionarioForm.jsx` ‚úÖ **IMPLEMENTADO** (integrado no modal)
- [x] `FuncionarioList.tsx` ‚Üí `FuncionarioList.jsx` ‚úÖ **IMPLEMENTADO** (integrado na p√°gina)
- [x] `FuncionarioToolbar.tsx` ‚Üí `FuncionarioToolbar.jsx` ‚úÖ **IMPLEMENTADO** (integrado na toolbar)
- [ ] `GPTAnalysisDetail.tsx` ‚Üí `GPTAnalysisDetail.jsx` üîÑ **PENDENTE** (aba GPT)
- [ ] `GPTConfig.tsx` ‚Üí `GPTConfig.jsx` üîÑ **PENDENTE** (aba GPT)
- [ ] `GPTIntegration.tsx` ‚Üí `GPTIntegration.jsx` üîÑ **PENDENTE** (aba GPT)
- [ ] `RelatorioAgente.tsx` ‚Üí `RelatorioAgente.jsx` üîÑ **PENDENTE** (aba Relat√≥rio Agente)
- [ ] `RelatorioGestao.tsx` ‚Üí `RelatorioGestao.jsx` üîÑ **PENDENTE** (aba Relat√≥rio Gest√£o)
- [x] `AcessoForm.tsx` ‚Üí `AcessoForm.jsx` ‚úÖ **IMPLEMENTADO** (integrado no modal)

## üîç COMPONENTES ENCONTRADOS E SUAS FUNCIONALIDADES

### **1. RelatorioAgente.tsx** (QUALIDADE/src/components/)
**Funcionalidades Identificadas:**
- ‚úÖ Sele√ß√£o de colaborador via dropdown
- ‚úÖ Filtros por per√≠odo (m√™s/ano)
- ‚úÖ C√°lculo de m√©tricas (m√©dia avaliador, m√©dia GPT, tend√™ncia)
- ‚úÖ Visualiza√ß√£o de hist√≥rico de avalia√ß√µes
- ‚úÖ Indicadores visuais de performance
- ‚úÖ Gr√°ficos de evolu√ß√£o (√∫ltimas 3 avalia√ß√µes)
- ‚úÖ Sistema de tend√™ncia (melhorando/piorando/est√°vel)

**Fun√ß√µes de Suporte:**
- `gerarRelatorioAgente()` - j√° implementada em `qualidadeStorage.js`
- `getAvaliacoesPorColaborador()` - j√° implementada
- `getFuncionarioById()` - j√° implementada

### **2. RelatorioGestao.tsx** (QUALIDADE/src/components/)
**Funcionalidades Identificadas:**
- ‚úÖ Filtros por m√™s/ano
- ‚úÖ Ranking de colaboradores (top 3 melhores/piores)
- ‚úÖ Estat√≠sticas gerais (m√©dia da equipe, total de avalia√ß√µes)
- ‚úÖ Visualiza√ß√£o de performance por colaborador
- ‚úÖ Indicadores visuais de classifica√ß√£o (ü•áü•àü•â)
- ‚úÖ Cards de resumo estat√≠stico
- ‚úÖ Sistema de cores por performance

**Fun√ß√µes de Suporte:**
- `gerarRelatorioGestao()` - j√° implementada em `qualidadeStorage.js`
- `getAvaliacoesPorMesAno()` - j√° implementada

### **3. GPTIntegration.tsx** (QUALIDADE/src/components/)
**Funcionalidades Identificadas:**
- ‚úÖ Verifica√ß√£o de arquivo de √°udio (Base64, Google Drive, File object)
- ‚úÖ Bot√£o de an√°lise GPT com estados (loading, error, success)
- ‚úÖ Integra√ß√£o com `gptService.js` existente
- ‚úÖ Sistema de modera√ß√£o de resultados
- ‚úÖ Exibi√ß√£o detalhada de resultados da IA
- ‚úÖ Configura√ß√£o de API GPT
- ‚úÖ Fallback para an√°lise simulada
- ‚úÖ Salvamento de resultados no storage

**Fun√ß√µes de Suporte:**
- `analyzeCallWithGPT()` - j√° implementada em `gptService.js`
- `salvarAvaliacaoGPT()` - j√° implementada em `qualidadeStorage.js`
- `getAvaliacaoGPT()` - j√° implementada

## üéµ FUNCIONALIDADES DE UPLOAD DE √ÅUDIO J√Å EXISTENTES

### **Fun√ß√µes de Upload Dispon√≠veis:**
- ‚úÖ `saveAudioFile()` - fun√ß√£o principal de upload (QUALIDADE/src/utils/googleDrive.ts)
- ‚úÖ `convertFileToBase64()` - convers√£o para Base64
- ‚úÖ `saveAudioFileToBlob()` - upload para Vercel Blob
- ‚úÖ `isFileTooLarge()` - valida√ß√£o de tamanho
- ‚úÖ `shouldUseGoogleDrive()` - l√≥gica de sele√ß√£o de storage
- ‚úÖ `shouldUseVercelBlob()` - l√≥gica para Vercel Blob

### **Configura√ß√µes de Upload:**
- ‚úÖ **Formatos aceitos:** MP3, WAV, MPEG, WMA, AAC
- ‚úÖ **Tamanho m√°ximo:** 50MB
- ‚úÖ **Storage autom√°tico:** localStorage (< 3MB) ‚Üí Vercel Blob (> 3MB) ‚Üí Google Drive (fallback)
- ‚úÖ **Valida√ß√£o de tipos MIME:** `audio/wav`, `audio/mp3`, `audio/mpeg`, `audio/wma`, `audio/aac`

### **Implementa√ß√£o Atual no AvaliacaoForm.tsx:**
- ‚úÖ Input de arquivo com valida√ß√£o
- ‚úÖ Verifica√ß√£o de tamanho e formato
- ‚úÖ Convers√£o para Base64
- ‚úÖ Integra√ß√£o com formul√°rio de avalia√ß√£o

### **Estado Atual do Bot√£o de √Åudio:**
- ‚ùå **Problema:** Bot√£o `MicOff` est√° desabilitado e n√£o funcional
- ‚ùå **Falta:** Modal de upload de √°udio
- ‚ùå **Falta:** Integra√ß√£o com fun√ß√µes de upload existentes
- ‚ùå **Falta:** Atualiza√ß√£o visual do bot√£o ap√≥s upload

### Da pasta `QUALIDADE/src/utils/`:
- [ ] `storage.ts` ‚Üí `qualidadeStorage.js`
- [ ] `export.ts` ‚Üí `qualidadeExport.js`
- [ ] `autoSync.ts` ‚Üí `qualidadeSync.js`
- [ ] `googleDrive.ts` ‚Üí `qualidadeGoogleDrive.js`
- [ ] `vercelBlob.ts` ‚Üí `qualidadeVercelBlob.js`

### Da pasta `QUALIDADE/src/services/`:
- [ ] `gptService.ts` ‚Üí `gptService.js`

---

## üé® ADAPTA√á√ïES NECESS√ÅRIAS

### TypeScript ‚Üí JavaScript:
- [ ] Converter interfaces para JSDoc ou coment√°rios
- [ ] Remover tipagem est√°tica
- [ ] Adaptar imports/exports
- [ ] Converter enums para constantes

### Tailwind ‚Üí Material-UI:
- [ ] Converter classes Tailwind para sx props
- [ ] Adaptar componentes para MUI
- [ ] Manter funcionalidade e layout
- [ ] Aplicar LAYOUT_GUIDELINES

### Lucide React ‚Üí Material-UI Icons:
- [ ] Substituir √≠cones do Lucide por MUI Icons
- [ ] Manter sem√¢ntica dos √≠cones
- [ ] Ajustar tamanhos e cores

---

## üîß CONFIGURA√á√ïES NECESS√ÅRIAS

### Depend√™ncias:
- [ ] Verificar se todas as depend√™ncias est√£o instaladas
- [ ] Adicionar depend√™ncias faltantes se necess√°rio
- [ ] Configurar vari√°veis de ambiente

### Rotas:
- [ ] Adicionar rotas no `App.jsx`
- [ ] Configurar prote√ß√£o de rotas
- [ ] Testar navega√ß√£o

### Storage:
- [ ] Configurar localStorage
- [ ] Implementar backup autom√°tico
- [ ] Configurar sincroniza√ß√£o

---

## ‚úÖ CRIT√âRIOS DE SUCESSO

### Funcionalidade:
- [ ] Todos os CRUDs funcionando
- [ ] Upload de arquivos funcionando
- [ ] Relat√≥rios gerando corretamente
- [ ] An√°lise GPT funcionando
- [ ] Exporta√ß√£o/importa√ß√£o funcionando

### Interface:
- [ ] Layout consistente com LAYOUT_GUIDELINES
- [ ] Responsividade mantida
- [ ] Efeitos hover aplicados
- [ ] Navega√ß√£o intuitiva

### Performance:
- [ ] Carregamento r√°pido
- [ ] Sem erros no console
- [ ] Sincroniza√ß√£o eficiente
- [ ] Backup autom√°tico funcionando

---

## üìÖ CRONOGRAMA SUGERIDO

### Semana 1: Estrutura Base
- Dias 1-2: Migrar tipos e servi√ßos
- Dias 3-4: Configurar storage e sincroniza√ß√£o
- Dia 5: Testes b√°sicos

### Semana 2: P√°gina de Funcion√°rios
- Dias 1-2: Implementar p√°gina base e lista
- Dias 3-4: Implementar formul√°rios e CRUD
- Dia 5: Testes e ajustes

### Semana 3: P√°gina de Qualidade
- Dias 1-2: Implementar navega√ß√£o e avalia√ß√µes
- Dias 3-4: Implementar relat√≥rios e GPT
- Dia 5: Testes e ajustes

### Semana 4: Integra√ß√£o e Polimento
- Dias 1-2: Aplicar LAYOUT_GUIDELINES
- Dias 3-4: Testes finais e corre√ß√µes
- Dia 5: Documenta√ß√£o e deploy

---

**Status:** üìã Plano atualizado - Upload de √°udio para GPT implementado
**√öltima atualiza√ß√£o:** 2024-12-19
**Respons√°vel:** VeloHub Development Team
